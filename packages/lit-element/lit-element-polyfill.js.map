{"version":3,"file":"lit-element-polyfill.js","sources":["src/lit-element-polyfill.ts"],"sourcesContent":["/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * LitElement patch to support browsers without native web components.\n *\n * @packageDocumentation\n */\nimport {LitElement, CSSResultArray, CSSResult} from './lit-element.js';\nimport {UpdatingElement} from './updating-element.js';\n// TODO(sorvell) Add shady-render package.\nimport {render, RenderOptions} from 'lit-html';\nexport * from './lit-element.js';\n\nif (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n  LitElement.render = (\n    result: unknown,\n    container: HTMLElement | DocumentFragment,\n    options: RenderOptions\n  ) => {\n    console.log('Note, this should be shady-render.');\n    render(result, container, options);\n  };\n\n  const baseConnectedCallback = UpdatingElement.prototype.connectedCallback;\n  LitElement.prototype.connectedCallback = function (this: LitElement) {\n    baseConnectedCallback.call(this);\n    // Note, first update/render handles styleElement so we only call this if\n    // connected after first update.\n    if (this.hasUpdated) {\n      window.ShadyCSS!.styleElement(this);\n    }\n  };\n\n  (LitElement.prototype as any).adoptStyles = function (\n    this: LitElement,\n    styles: CSSResultArray\n  ) {\n    if (!(window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot)) {\n      return;\n    }\n    window.ShadyCSS!.ScopingShim!.prepareAdoptedCssText(\n      styles.map((s) => (s as CSSResult).cssText),\n      this.localName\n    );\n  };\n}\n"],"names":["undefined","window","ShadyCSS","nativeShadow","LitElement","render","result","container","options","console","log","baseConnectedCallback","UpdatingElement","prototype","connectedCallback","call","this","hasUpdated","styleElement","adoptStyles","styles","ShadowRoot","renderRoot","ScopingShim","prepareAdoptedCssText","map","s","cssText","localName"],"mappings":";;;;;;;;;;;;;GAyBA,QAAwBA,IAApBC,OAAOC,WAA2BD,OAAOC,SAASC,aAAc,CAClEC,EAAWC,OAAS,CAClBC,EACAC,EACAC,KAEAC,QAAQC,IAAI,sCACZL,EAAOC,EAAQC,EAAWC,IAG5B,MAAMG,EAAwBC,EAAgBC,UAAUC,kBACxDV,EAAWS,UAAUC,kBAAoB,WACvCH,EAAsBI,KAAKC,MAGvBA,KAAKC,YACPhB,OAAOC,SAAUgB,aAAaF,OAIjCZ,EAAWS,UAAkBM,YAAc,SAE1CC,GAEMnB,OAAOoB,YAAcL,KAAKM,sBAAsBrB,OAAOoB,YAG7DpB,OAAOC,SAAUqB,YAAaC,sBAC5BJ,EAAOK,IAAKC,GAAOA,EAAgBC,SACnCX,KAAKY"}